generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "sqlite"
}

model characters {
  id                                            Int        @id @default(autoincrement())
  created_at                                    DateTime   @default(now())
  updated_at                                    DateTime   @default(now())
  name                                          String     @unique(map: "sqlite_autoindex_characters_1")
  description                                   String?
  main_sticker_id                               Int?
  stickers_characters_main_sticker_idTostickers stickers?  @relation("characters_main_sticker_idTostickers", fields: [main_sticker_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stickers_stickers_character_idTocharacters    stickers[] @relation("stickers_character_idTocharacters")

  @@index([name], map: "idx_character_name")
}

model stickers {
  id                                              Int            @id @default(autoincrement())
  created_at                                      DateTime       @default(now())
  updated_at                                      DateTime       @default(now())
  set_id                                          Int
  character_id                                    Int
  title                                           String
  full_title                                      String
  image_url_source                                String         @unique(map: "sqlite_autoindex_stickers_1")
  filename                                        String         @unique(map: "sqlite_autoindex_stickers_2")
  filepath                                        String         @unique(map: "sqlite_autoindex_stickers_3")
  characters_characters_main_sticker_idTostickers characters[]   @relation("characters_main_sticker_idTostickers")
  sticker_sets                                    sticker_sets[]
  sticker_sets_stickers_set_idTosticker_sets      sticker_sets   @relation("stickers_set_idTosticker_sets", fields: [set_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  characters_stickers_character_idTocharacters    characters     @relation("stickers_character_idTocharacters", fields: [character_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@index([character_id], map: "idx_character_id")
  @@index([image_url_source], map: "idx_sticker_image_url_source")
  @@index([set_id], map: "idx_set_id")
}

model sticker_sets {
  id                                     Int        @id @default(autoincrement())
  created_at                             DateTime   @default(now())
  updated_at                             DateTime   @default(now())
  release_date                           DateTime?
  name                                   String     @unique(map: "sqlite_autoindex_sticker_sets_1")
  main_sticker_id                        Int?
  stickers                               stickers?  @relation(fields: [main_sticker_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stickers_stickers_set_idTosticker_sets stickers[] @relation("stickers_set_idTosticker_sets")
}
