generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "sqlite"
}

model characters {
  id                                            Int        @id @default(autoincrement())
  created_at                                    DateTime   @default(now())
  updated_at                                    DateTime   @default(now())
  name                                          String     @unique(map: "sqlite_autoindex_characters_1")
  description                                   String?
  main_sticker_id                               Int?
  stickers_characters_main_sticker_idTostickers stickers?  @relation("characters_main_sticker_idTostickers", fields: [main_sticker_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  stickers_stickers_character_idTocharacters    stickers[] @relation("stickers_character_idTocharacters")

  @@index([name], map: "idx_character_name")
}

model stickers {
  id                                              Int          @id @default(autoincrement())
  created_at                                      DateTime     @default(now())
  updated_at                                      DateTime     @default(now())
  set_number                                      Int
  character_id                                    Int
  title                                           String
  full_title                                      String
  image_url_source                                String
  filename                                        String
  filepath                                        String
  characters_characters_main_sticker_idTostickers characters[] @relation("characters_main_sticker_idTostickers")
  characters_stickers_character_idTocharacters    characters   @relation("stickers_character_idTocharacters", fields: [character_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([set_number, character_id, title], map: "sqlite_autoindex_stickers_1")
  @@index([character_id], map: "idx_character_id")
  @@index([set_number], map: "idx_set_number")
}
